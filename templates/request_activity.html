<h1>Review Requests for {{ post.title }}</h1>
<p>Slots: {{ post.join_requests | selectattr('status','equalto','accepted') | list | length }} / {{ post.participants }}</p>

<ul>
{% for req in requests %}
    <li>{{ req.user.name }} ({{ req.user.user_email }})
        <form action="{{ url_for('handle_request', request_id=req.id, decision='accept') }}" method="post" style="display:inline;">
            <button type="submit">Accept</button>
        </form>
        <form action="{{ url_for('handle_request', request_id=req.id, decision='reject') }}" method="post" style="display:inline;">
            <button type="submit">Reject</button>
        </form>
    </li>
{% else %}
    <p>No pending requests.</p>
{% endfor %}
</ul>